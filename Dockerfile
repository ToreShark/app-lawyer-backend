# Базовый образ
FROM node:14

# Создание директории приложения
WORKDIR /usr/src/app

# Установка зависимостей
COPY package*.json ./

RUN npm install

# Копирование исходного кода приложения
COPY . .

# Компиляция исходного кода
RUN npm run build

# Объявление порта, который будет прослушиваться во время выполнения
EXPOSE 3000

# Запуск приложения
CMD [ "npm", "run", "start:prod" ]
